import{r as j,a as xe,g as ve,_ as X,af as Te,b as I,u as ye,j as t,s as $e,c as je,R as V,d as ke,a6 as ze,n as q,o as K,f as we,B as _,ag as Y,h as W,T as G,P as le,ae as O,ah as ce,a0 as de,ai as ue,aj as pe,D as he,m as Ae}from"./index-DYFHCmBT.js";import{u as Se}from"./useNpmPackages-CDW_1T6z.js";import{S as H}from"./Stack-CWTPeJQ7.js";import{A as ge}from"./Alert-CIK2AdgG.js";import"./react-is.production.min-DSf3zZfm.js";import{a as U}from"./colorManipulator-BxT_ekeF.js";import"./useThemeProps-DakzQrEl.js";import"./useSlot-D1TsCX-O.js";function Pe(e){return j.Children.toArray(e).filter(r=>j.isValidElement(r))}function Ee(e){return ve("MuiToggleButton",e)}const N=xe("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Ce=j.createContext({}),Re=j.createContext(void 0);function Ge(e,r){return r===void 0||e===void 0?!1:Array.isArray(r)?r.indexOf(e)>=0:e===r}const Le=["value"],Me=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Ie=e=>{const{classes:r,fullWidth:n,selected:i,disabled:s,size:v,color:p}=e,l={root:["root",i&&"selected",s&&"disabled",n&&"fullWidth",`size${V(v)}`,p]};return ke(l,Ee,r)},He=$e(ze,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r[`size${V(n.size)}`]]}})(({theme:e,ownerState:r})=>{let n=r.color==="standard"?e.palette.text.primary:e.palette[r.color].main,i;return e.vars&&(n=r.color==="standard"?e.vars.palette.text.primary:e.vars.palette[r.color].main,i=r.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[r.color].mainChannel),I({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},r.fullWidth&&{width:"100%"},{[`&.${N.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:U(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${N.selected}`]:{color:n,backgroundColor:e.vars?`rgba(${i} / ${e.vars.palette.action.selectedOpacity})`:U(n,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${i} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:U(n,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${i} / ${e.vars.palette.action.selectedOpacity})`:U(n,e.palette.action.selectedOpacity)}}}},r.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},r.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),fe=j.forwardRef(function(r,n){const i=j.useContext(Ce),{value:s}=i,v=X(i,Le),p=j.useContext(Re),l=Te(I({},v,{selected:Ge(r.value,s)}),r),d=ye({props:l,name:"MuiToggleButton"}),{children:h,className:C,color:R="standard",disabled:T=!1,disableFocusRipple:g=!1,fullWidth:a=!1,onChange:b,onClick:k,selected:u,size:y="medium",value:o}=d,B=X(d,Me),w=I({},d,{color:R,disabled:T,disableFocusRipple:g,fullWidth:a,size:y}),f=Ie(w),x=A=>{k&&(k(A,o),A.defaultPrevented)||b&&b(A,o)},m=p||"";return t.jsx(He,I({className:je(v.className,f.root,C,m),disabled:T,focusRipple:!g,ref:n,onClick:x,onChange:b,value:o,ownerState:w,"aria-pressed":u},B,{children:h}))});function De(e){return ve("MuiToggleButtonGroup",e)}const $=xe("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Oe=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Ne=e=>{const{classes:r,orientation:n,fullWidth:i,disabled:s}=e,v={root:["root",n==="vertical"&&"vertical",i&&"fullWidth"],grouped:["grouped",`grouped${V(n)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ke(v,De,r)},We=$e("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[{[`& .${$.grouped}`]:r.grouped},{[`& .${$.grouped}`]:r[`grouped${V(n.orientation)}`]},{[`& .${$.firstButton}`]:r.firstButton},{[`& .${$.lastButton}`]:r.lastButton},{[`& .${$.middleButton}`]:r.middleButton},r.root,n.orientation==="vertical"&&r.vertical,n.fullWidth&&r.fullWidth]}})(({ownerState:e,theme:r})=>I({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${$.grouped}`]:I({},e.orientation==="horizontal"?{[`&.${$.selected} + .${$.grouped}.${$.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${$.selected} + .${$.grouped}.${$.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${$.firstButton},& .${$.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${$.lastButton},& .${$.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${$.firstButton},& .${$.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${$.lastButton},& .${$.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${$.lastButton}.${N.disabled},& .${$.middleButton}.${N.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${$.lastButton}.${N.disabled},& .${$.middleButton}.${N.disabled}`]:{borderTop:"1px solid transparent"}})),Fe=j.forwardRef(function(r,n){const i=ye({props:r,name:"MuiToggleButtonGroup"}),{children:s,className:v,color:p="standard",disabled:l=!1,exclusive:d=!1,fullWidth:h=!1,onChange:C,orientation:R="horizontal",size:T="medium",value:g}=i,a=X(i,Oe),b=I({},i,{disabled:l,fullWidth:h,orientation:R,size:T}),k=Ne(b),u=j.useCallback((x,m)=>{if(!C)return;const A=g&&g.indexOf(m);let S;g&&A>=0?(S=g.slice(),S.splice(A,1)):S=g?g.concat(m):[m],C(x,S)},[C,g]),y=j.useCallback((x,m)=>{C&&C(x,g===m?null:m)},[C,g]),o=j.useMemo(()=>({className:k.grouped,onChange:d?y:u,value:g,size:T,fullWidth:h,color:p,disabled:l}),[k.grouped,d,y,u,g,T,h,p,l]),B=Pe(s),w=B.length,f=x=>{const m=x===0,A=x===w-1;return m&&A?"":m?k.firstButton:A?k.lastButton:k.middleButton};return t.jsx(We,I({role:"group",className:je(k.root,v),ref:n,ownerState:b},a,{children:t.jsx(Ce.Provider,{value:o,children:B.map((x,m)=>t.jsx(Re.Provider,{value:f(m),children:x},m))})}))});var Z={},Ue=q;Object.defineProperty(Z,"__esModule",{value:!0});var J=Z.default=void 0,Ve=Ue(K()),qe=t;J=Z.default=(0,Ve.default)((0,qe.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh");var Q={},Ke=q;Object.defineProperty(Q,"__esModule",{value:!0});var F=Q.default=void 0,Xe=Ke(K()),Ye=t;F=Q.default=(0,Xe.default)((0,Ye.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");var ee={},Je=q;Object.defineProperty(ee,"__esModule",{value:!0});var Be=ee.default=void 0,Ze=Je(K()),Qe=t;Be=ee.default=(0,Ze.default)((0,Qe.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline");var te={},et=q;Object.defineProperty(te,"__esModule",{value:!0});var _e=te.default=void 0,tt=et(K()),rt=t;_e=te.default=(0,tt.default)((0,rt.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"}),"FormatListBulleted");const ot="vaporjawn",at=1e3*60*10,st="gh_activity_v1";function nt(e){var C,R,T,g,a,b,k,u,y,o,B,w,f,x,m,A,S,z,D,c,P,L,re,oe,ae,se,ne,ie;const{type:r,created_at:n,repo:i}=e,s=(i==null?void 0:i.name)||"unknown",v=n,p={id:e.id,repo:s,createdAt:v,url:void 0};let l="other",d=r,h;switch(r){case"PushEvent":{l="push";const E=Array.isArray((C=e.payload)==null?void 0:C.commits)?e.payload.commits.length:0,M=(T=(R=e.payload)==null?void 0:R.ref)==null?void 0:T.split("/").pop();d=`Pushed ${E} commit${E===1?"":"s"} to ${M||"main"}`,h=`https://github.com/${s}/commits/${M||"main"}`;break}case"PullRequestEvent":{const E=(g=e.payload)==null?void 0:g.action,M=((a=e.payload)==null?void 0:a.number)||((k=(b=e.payload)==null?void 0:b.pull_request)==null?void 0:k.number);h=(y=(u=e.payload)==null?void 0:u.pull_request)==null?void 0:y.html_url,E==="opened"?(l="pr-open",d=`Opened PR #${M} in ${s}`):E==="closed"&&((B=(o=e.payload)==null?void 0:o.pull_request)!=null&&B.merged)?(l="pr-merge",d=`Merged PR #${M} in ${s}`):(l="other",d=`PR ${E} #${M} in ${s}`);break}case"ReleaseEvent":{l="release";const E=(f=(w=e.payload)==null?void 0:w.release)==null?void 0:f.tag_name;h=(m=(x=e.payload)==null?void 0:x.release)==null?void 0:m.html_url,d=`Published release ${E||"(untagged)"} in ${s}`;break}case"ForkEvent":{l="fork",h=(S=(A=e.payload)==null?void 0:A.forkee)==null?void 0:S.html_url,d=`Forked ${s}`;break}case"WatchEvent":{l="star",d=`Starred ${s}`,h=`https://github.com/${s}`;break}case"IssuesEvent":{const E=(z=e.payload)==null?void 0:z.action,M=(c=(D=e.payload)==null?void 0:D.issue)==null?void 0:c.number;h=(L=(P=e.payload)==null?void 0:P.issue)==null?void 0:L.html_url,E==="opened"?(l="issue-open",d=`Opened issue #${M} in ${s}`):(l="other",d=`Issue ${E} #${M} in ${s}`);break}case"IssueCommentEvent":{l="issue-comment";const E=(oe=(re=e.payload)==null?void 0:re.issue)==null?void 0:oe.number;h=((se=(ae=e.payload)==null?void 0:ae.comment)==null?void 0:se.html_url)||((ie=(ne=e.payload)==null?void 0:ne.issue)==null?void 0:ie.html_url),d=`Commented on issue #${E} in ${s}`;break}default:l="other",d=r.replace(/Event$/,"")+` in ${s}`,h=`https://github.com/${s}`}return{...p,kind:l,message:d,url:h}}function it(e={}){const{username:r=ot,perPage:n=30,cacheTtlMs:i=at,includeTypes:s}=e,[v,p]=j.useState([]),[l,d]=j.useState(!1),[h,C]=j.useState(null),R=j.useRef(!1),T=`${st}_${r}_${n}`,g=j.useCallback(()=>{try{const u=localStorage.getItem(T);if(!u)return null;const y=JSON.parse(u);return!y.fetchedAt||!Array.isArray(y.data)?null:y}catch{return null}},[T]),a=j.useCallback(u=>{try{const y={fetchedAt:Date.now(),data:u};localStorage.setItem(T,JSON.stringify(y))}catch{}},[T]),b=j.useCallback(async(u=!1)=>{if(!R.current){R.current=!0,d(!0),C(null);try{const y=`https://api.github.com/users/${encodeURIComponent(r)}/events/public?per_page=${n}`,o=await fetch(y,{headers:{Accept:"application/vnd.github+json"}});if(!o.ok)throw new Error(`GitHub activity failed (${o.status})`);let w=(await o.json()).map(nt);s&&s.length&&(w=w.filter(f=>s.includes(f.kind))),w.sort((f,x)=>new Date(x.createdAt).getTime()-new Date(f.createdAt).getTime()),p(w),a(w)}catch(y){u||(y instanceof Error?C(y.message):C("Failed to load GitHub activity"))}finally{d(!1),R.current=!1}}},[r,n,s,a]);j.useEffect(()=>{const u=g();if(u){const y=Date.now()-u.fetchedAt<i;p(u.data),y||b()}else b()},[i,g,b]);const k=j.useCallback(()=>{b(!0)},[b]);return{events:v,loading:l,error:h,refresh:k}}const me=["#14b8a6","#6366f1","#f59e0b","#ec4899","#0ea5e9","#84cc16","#f43f5e","#8b5cf6"];function lt(e){return me[e%me.length]}const ct=({events:e,maxRepos:r=12,heightPerNode:n=46,legendId:i="activity-legend",orientation:s="desc",showDates:v=!0})=>{const p=we(),{lanes:l,rows:d,trunkLane:h,accessibleList:C}=j.useMemo(()=>{if(!e.length)return{lanes:[],rows:[],trunkLane:void 0,accessibleList:[]};const o=[...e].sort((c,P)=>new Date(c.createdAt).getTime()-new Date(P.createdAt).getTime());s==="desc"&&o.reverse();const B=[],w=[],f=new Set;o.forEach(c=>{c.lane==="GitHub"&&c.repo?B.includes(c.repo)||B.push(c.repo):c.lane&&c.lane!=="GitHub"&&(f.has(c.lane)||(f.add(c.lane),w.push(c.lane)))});const x=["GitHub",...B,...w],m=new Map;x.slice(0,r).forEach((c,P)=>m.set(c,{label:c,color:lt(P),index:P}));const A=m.get("GitHub"),S=[];let z;o.forEach(c=>{const P=c.createdAt.slice(0,10);v&&P!==z&&(S.push({type:"date",date:P}),z=P);let L;c.lane==="GitHub"&&c.repo?L=c.repo:c.lane==="GitHub"?L="GitHub":L=c.lane||c.repo||"Misc",S.push({type:"event",evt:c,laneKey:L,lane:m.get(L)})});const D=S.filter(c=>c.type==="event").map(c=>{const P=c.evt,L=c.laneKey;return`${P.createdAt} – ${L}: ${P.message}`});return{lanes:x.slice(0,r).map(c=>m.get(c)),rows:S,trunkLane:A,accessibleList:D}},[e,r,s,v]),R=36,T=52,g=30,a=16,b=g/2,k=a/2,u=d.length*n+16,y={push:"Push","pr-open":"PR Opened","pr-merge":"PR Merged",release:"Release",fork:"Fork",star:"Star","issue-open":"Issue Opened","issue-comment":"Issue Comment","npm-publish":"npm Publish"};return t.jsxs(_,{sx:{position:"relative",width:"100%",overflowX:"auto",py:2},children:[t.jsx(_,{sx:{display:"flex",flexDirection:"row",pl:T,mb:1},children:l.map(o=>{const B=o.label==="GitHub";return t.jsx(_,{sx:{width:R,mr:3,textAlign:"center",fontSize:10,color:o.color,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:B?700:500,position:"relative","&:after":B?{content:'"trunk"',position:"absolute",left:0,right:0,top:"100%",fontSize:8,letterSpacing:.5,opacity:.55}:void 0},title:o.label.split("/").pop(),children:o.label==="GitHub"?"GitHub":o.label.split("/").pop()},o.label)})}),t.jsxs(_,{sx:{position:"relative",height:u,pl:T},children:[h&&t.jsx(_,{sx:{position:"absolute",left:h.index*(R+12)+R/2,top:0,bottom:0,width:2,bgcolor:p.palette.mode==="dark"?"rgba(255,255,255,0.18)":"rgba(0,0,0,0.18)"}}),d.map((o,B)=>{const w=B*n+8;if(o.type==="date")return t.jsx(_,{sx:{position:"absolute",left:0,top:w-10,height:n,display:"flex",alignItems:"center",fontSize:11,fontWeight:600,color:"text.secondary"},children:o.date},`date-${o.date}-${B}`);if(!o.evt)return null;const{lane:f}=o,x=h?h.index*(R+12)+R/2:0,m=f?f.index*(R+12)+R/2:x,A=(()=>{switch(o.evt.kind){case"push":return"⬆";case"pr-open":return"PR";case"pr-merge":return"M";case"release":return"⛓";case"fork":return"⑂";case"star":return"★";case"issue-open":return"◻";case"issue-comment":return"💬";case"npm-publish":return"📦";default:return"●"}})(),S=y[o.evt.kind]||o.evt.kind.charAt(0).toUpperCase()+o.evt.kind.slice(1),z=(f==null?void 0:f.label)==="GitHub";return t.jsxs(Y.Fragment,{children:[!z&&t.jsx(_,{sx:{position:"absolute",left:Math.min(x,m),top:w,width:Math.abs(m-x),height:2,bgcolor:(f==null?void 0:f.color)||"divider",opacity:.55,pointerEvents:"none"}}),h&&t.jsx(_,{sx:{position:"absolute",left:x-k,top:w-k,width:a,height:a,borderRadius:"50%",backgroundColor:p.palette.background.paper,border:`2px solid ${p.palette.divider}`,boxSizing:"border-box",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",fontSize:9,fontWeight:600,color:"text.secondary"},"aria-hidden":"true"}),t.jsx(W,{title:`${o.evt.message}
${S} • ${o.evt.repo||o.evt.lane||"GitHub"}`,children:t.jsx(_,{component:o.evt.url?"a":"div",href:o.evt.url,target:o.evt.url?"_blank":void 0,rel:o.evt.url?"noopener noreferrer":void 0,"aria-label":`${S} event in ${o.evt.repo||o.evt.lane||"GitHub"} : ${o.evt.message}`,"aria-describedby":i,tabIndex:0,sx:{position:"absolute",left:m-(z?k:b),top:w-(z?k:b),width:z?a:g,height:z?a:g,borderRadius:"50%",backgroundColor:z?p.palette.primary.main:(f==null?void 0:f.color)||p.palette.secondary.main,color:p.palette.getContrastText(z?p.palette.primary.main:(f==null?void 0:f.color)||p.palette.secondary.main),fontSize:z?9:12,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",textDecoration:"none",boxShadow:D=>`0 0 0 2px ${D.palette.background.default}, 0 3px 6px rgba(0,0,0,0.45)`,transition:"transform .15s, box-shadow .15s","&:hover":{transform:"scale(1.15)"},"&:focus-visible":{outline:"2px solid #fff",outlineOffset:3,transform:"scale(1.15)"}},children:A})}),t.jsxs(_,{sx:{position:"absolute",left:Math.max(m,x)+(z?k:b)+10,top:w-(z?k:b)+2,minHeight:(z?a:g)-4,display:"flex",alignItems:"center",fontSize:12,pr:2,maxWidth:`calc(100% - ${Math.max(m,x)+(z?k:b)+32}px)`,color:"text.secondary",lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},"aria-hidden":"true",children:[o.evt.message,t.jsxs(_,{component:"span",sx:{ml:.75,opacity:.55,fontSize:11},children:["(",S,")"]})]})]},o.evt.id)}),t.jsx(_,{component:"ol","aria-label":"Activity chronological list",sx:{position:"absolute",left:-9999,width:1,height:1,overflow:"hidden",p:0,m:0},children:C.map((o,B)=>t.jsx("li",{children:o},B))})]})]})},dt=[{label:"Push",glyph:"⬆",description:"Code pushed to a repository"},{label:"PR Opened",glyph:"PR",description:"Pull request opened"},{label:"PR Merged",glyph:"M",description:"Pull request merged"},{label:"Release",glyph:"⛓",description:"Release / tag published"},{label:"Fork",glyph:"⑂",description:"Repository forked"},{label:"Star",glyph:"★",description:"Repository starred"},{label:"Issue Opened",glyph:"◻",description:"Issue created"},{label:"Issue Comment",glyph:"💬",description:"Issue or PR comment"},{label:"npm Publish",glyph:"📦",description:"Package version published to npm"}],ut=()=>t.jsxs(_,{component:"section","aria-labelledby":"activity-legend-heading",id:"activity-legend",sx:{mt:3,p:2,borderRadius:2,border:e=>`1px solid ${e.palette.divider}`,background:e=>e.palette.mode==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)"},children:[t.jsx(G,{id:"activity-legend-heading",variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Activity Graph Legend"}),t.jsxs(G,{variant:"caption",component:"p",sx:{mb:2,lineHeight:1.4},children:["The first lane is the GitHub trunk. Each GitHub repository branches horizontally from the trunk on the row of its first visible event; connectors show the relationship. The separate ",t.jsx("strong",{children:"npm"})," lane lists package publish events. Hover or focus bubbles for details."]}),t.jsx(H,{direction:"row",flexWrap:"wrap",spacing:1.5,useFlexGap:!0,children:dt.map(e=>t.jsxs(H,{direction:"row",spacing:.75,alignItems:"center",sx:{minWidth:140},children:[t.jsx(_,{"aria-hidden":!0,sx:{width:22,height:22,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,fontWeight:700},children:e.glyph}),t.jsxs(_,{sx:{fontSize:11,lineHeight:1.2},children:[t.jsx("strong",{children:e.label}),t.jsx(_,{component:"span",sx:{ml:.5,opacity:.65},children:e.description})]})]},e.label))})]});function be(e){try{const r=new Date(e);let i=Date.now()-r.getTime();const s=i<0;i=Math.abs(i);const v=Math.floor(i/1e3);if(v<45)return s?"in a few sec":"just now";const p=Math.floor(v/60);if(p<60)return s?`in ${p}m`:`${p}m ago`;const l=Math.floor(p/60);if(l<24)return s?`in ${l}h`:`${l}h ago`;const d=Math.floor(l/24);if(d<7)return s?`in ${d}d`:`${d}d ago`;const h=Math.floor(d/7);return h<5?s?`in ${h}w`:`${h}w ago`:r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:new Date().getFullYear()===r.getFullYear()?void 0:"numeric"})}catch{return""}}const yt=()=>{const e=we(),{events:r,loading:n,error:i,refresh:s}=it(),{packages:v,loading:p,error:l,refresh:d}=Se(),h="https://www.npmjs.com/~vaporjawn",[C,R]=j.useState("graph"),T=j.useCallback((a,b)=>{b&&R(b)},[]),g=j.useMemo(()=>{const a=new Date().toISOString(),b=v.map(u=>({id:`npm:${u.name}@${u.version}:${u.publishedAt||"no-date"}`,createdAt:u.publishedAt||a,message:`${u.name} v${u.version} published`,kind:"npm-publish",lane:"npm",url:u.npmUrl}));return[...r.map(u=>({...u,lane:"GitHub"})),...b].sort((u,y)=>new Date(y.createdAt).getTime()-new Date(u.createdAt).getTime())},[r,v]);return t.jsxs(_,{sx:{maxWidth:1200,mx:"auto",px:{xs:2,md:3},py:{xs:4,md:6}},children:[t.jsx(G,{variant:"h3",fontWeight:700,gutterBottom:!0,children:"Activity"}),t.jsx(G,{variant:"body1",sx:{opacity:.75,mb:4},children:"A unified timeline of my open-source work. npm publishes appear first, with a commit‑style graph of GitHub repository activity."}),t.jsx(le,{elevation:3,sx:{p:{xs:2,md:4},borderRadius:4,background:e.palette.mode==="dark"?"linear-gradient(135deg, rgba(255,255,255,0.035), rgba(255,255,255,0.018))":"linear-gradient(135deg, rgba(0,0,0,0.012), rgba(0,0,0,0.03))",backdropFilter:"blur(10px)"},children:t.jsxs(H,{spacing:2,children:[t.jsxs(H,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(G,{variant:"h5",fontWeight:600,component:"h2",children:"npm Packages"}),t.jsxs(H,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(W,{title:"Refresh",children:t.jsx("span",{children:t.jsx(O,{"aria-label":"refresh npm packages",size:"small",onClick:d,disabled:p,children:t.jsx(J,{fontSize:"small"})})})}),t.jsx(W,{title:"Open npm profile",children:t.jsx(O,{"aria-label":"open npm profile",size:"small",component:"a",href:h,target:"_blank",rel:"noopener noreferrer",children:t.jsx(F,{fontSize:"small"})})})]})]}),t.jsx(G,{variant:"body2",sx:{opacity:.8},children:"Recently published / updated packages."}),p&&t.jsx(_,{display:"flex",justifyContent:"center",py:3,children:t.jsx(ce,{size:26})}),l&&!p&&t.jsxs(ge,{severity:"error",children:["Failed to load npm packages: ",l]}),!p&&!l&&t.jsxs(de,{dense:!0,"aria-label":"Recent npm packages",sx:{width:"100%"},children:[v.slice(0,8).map(a=>t.jsxs(Y.Fragment,{children:[t.jsx(ue,{disableGutters:!0,secondaryAction:a.npmUrl?t.jsx(O,{edge:"end","aria-label":"open package",size:"small",href:a.npmUrl,target:"_blank",rel:"noopener noreferrer",children:t.jsx(F,{fontSize:"inherit"})}):null,children:t.jsx(pe,{primary:`${a.name} @ ${a.version}`,secondary:[a.description||"",a.publishedAt?` • ${be(a.publishedAt)}`:"",typeof a.weeklyDownloads=="number"?` • ${a.weeklyDownloads.toLocaleString()} downloads/week`:""].filter(Boolean).join(""),primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"caption"}})}),t.jsx(he,{component:"li",sx:{opacity:.2}})]},a.name)),v.length===0&&t.jsx(G,{variant:"body2",sx:{opacity:.6,mt:1},children:"No published packages."})]}),t.jsx(Ae,{variant:"outlined",color:"primary",href:h,target:"_blank",rel:"noopener noreferrer",sx:{alignSelf:"flex-start"},children:"View All on npm"})]})}),t.jsxs(le,{elevation:5,sx:{mt:6,p:{xs:2,md:4},borderRadius:4,background:e.palette.mode==="dark"?"linear-gradient(135deg, rgba(255,255,255,0.045), rgba(255,255,255,0.025))":"linear-gradient(135deg, rgba(0,0,0,0.018), rgba(0,0,0,0.04))",backdropFilter:"blur(10px)"},children:[t.jsxs(H,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[t.jsx(G,{variant:"h5",fontWeight:600,component:"h2",children:"GitHub Activity"}),t.jsxs(H,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(W,{title:"Refresh",children:t.jsx("span",{children:t.jsx(O,{"aria-label":"refresh github activity",size:"small",onClick:s,disabled:n,children:t.jsx(J,{fontSize:"small"})})})}),t.jsxs(Fe,{size:"small",exclusive:!0,value:C,onChange:T,"aria-label":"github activity view mode",children:[t.jsx(fe,{value:"graph","aria-label":"graph view",children:t.jsx(Be,{fontSize:"small"})}),t.jsx(fe,{value:"list","aria-label":"list view",children:t.jsx(_e,{fontSize:"small"})})]}),t.jsx(W,{title:"Open GitHub profile",children:t.jsx(O,{"aria-label":"open github profile",size:"small",component:"a",href:"https://github.com/Vaporjawn",target:"_blank",rel:"noopener noreferrer",children:t.jsx(F,{fontSize:"small"})})})]})]}),n&&t.jsx(_,{display:"flex",justifyContent:"center",py:4,children:t.jsx(ce,{size:28})}),i&&!n&&t.jsxs(ge,{severity:"error",sx:{mb:2},children:["Failed to load GitHub activity: ",i]}),!n&&!i&&C==="graph"&&t.jsxs(_,{sx:{mt:1},children:[t.jsx(ct,{events:g,maxRepos:8,heightPerNode:40}),t.jsx(ut,{}),g.length===0&&t.jsx(G,{variant:"body2",sx:{opacity:.6,mt:1},children:"No recent activity."})]}),!n&&!i&&C==="list"&&t.jsxs(de,{dense:!0,"aria-label":"Recent GitHub / npm activity list",sx:{width:"100%"},children:[g.slice(0,32).map(a=>t.jsxs(Y.Fragment,{children:[t.jsx(ue,{disableGutters:!0,secondaryAction:a.url?t.jsx(O,{edge:"end","aria-label":"open event",size:"small",href:a.url,target:"_blank",rel:"noopener noreferrer",children:t.jsx(F,{fontSize:"inherit"})}):null,children:t.jsx(pe,{primary:a.message,secondary:`${a.lane}${a.repo?` • ${a.repo}`:""} • ${be(a.createdAt)}`,primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"caption"}})}),t.jsx(he,{component:"li",sx:{opacity:.2}})]},a.id)),g.length===0&&t.jsx(G,{variant:"body2",sx:{opacity:.6,mt:1},children:"No recent activity."})]})]}),t.jsxs(G,{variant:"body2",sx:{mt:4,opacity:.7},children:["GitHub and npm sections use local caching with background refresh to reduce API calls while keeping activity reasonably fresh. (",r.length," GitHub events / ",v.length," packages)"]})]})};export{yt as default};
//# sourceMappingURL=activityPage-BSQDEFSj.js.map
